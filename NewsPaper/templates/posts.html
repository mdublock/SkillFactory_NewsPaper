{% extends 'flatpages/default.html' %}

{% load custom_filters %}
<!-- Название у нас будет products -->
{% block title %}
News
{% endblock title %}

<!-- В контенте на странице мы выводим все товары -->
{% block content %}
    <h1>Все новости</h1>
    <p>Количество новостей: {{ posts|length }}</p>
    {% if posts %}
    <ul>
        {% for post in posts %}
            <li>
                <h2><a href="{% url 'news_detail' post.pk %}">{{ post.title|censor }}</a></h2>
                <p>Дата публикации: {{ post.created_at|date:"d.m.Y" }}</p>
                <p>{{ post.content|censor|truncatewords:20 }}</p>
            </li>
        {% endfor %}
    </ul>
    {% else %}
    <h2>Новостей нет!</h2>
    {% endif %}
{% endblock content %}